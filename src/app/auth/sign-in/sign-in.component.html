<div *ngIf="!!error" class="alert alert-danger">{{ error }}</div>

<form [formGroup]="signinForm">
  <h3 style="text-align: center">Sign in to your account</h3>
  <div class="form-group">
    <label for="email">Email</label>
    <input
      placeholder="Email"
      type="email"
      formControlName="email"
      class="form-control"
      required
      email
    />
  </div>
  <div class="form-group">
    <fieldset [disabled]="inMemoryCredentials">
      <label for="password">Password</label>
      <input
        id="password"
        type="password"
        class="form-control"
        placeholder="Password"
        formControlName="password"
        required
      />
    </fieldset>
  </div>
  <div *ngIf="confirmationControl" class="form-group">
    <label for="confirmationCode">Confirmation Code</label>
    <input
      id="confirmationCode"
      class="form-control"
      placeholder="confirmation Code"
      formControlName="confirmationCode"
      required
    />
    <p *ngIf="confirmationControl">
      Switch to <a (click)="switchToLoginMode()">Sign in</a>
    </p>
  </div>
  <button
    class="btn btn-primary auth-btn"
    (click)="signIn()"
    [disabled]="!signinForm.valid"
  >
    {{
      confirmationControl
        ? (isLoading | async)
          ? "Confirming.."
          : "Confirm"
        : (isLoading | async)
        ? "Sign In..."
        : "Sign In"
    }}
  </button>
  <p style="text-align: center">or</p>
  <button class="btn btn-primary auth-btn" (click)="signInWithGoogle()">
    Sign In with Google
  </button>
  <p *ngIf="!confirmationControl">
    Don't confirmed account? <a (click)="switchToConfirmMode()">Confirm</a>
  </p>

  <p>Don't have an account? <a routerLink="/auth/sign-up">Sign up</a></p>
</form>
